# Free WiFi Locator - 產品需求文檔 (PRD)

## 1. 產品願景

幫線上遊戲玩家快速找到附近免費WiFi位置，建立跨地域的遊戲社群連結。當玩家沒有網路時，能夠透過這個應用找到最近的可用WiFi點位，繼續享受遊戲生活。

## 2. 目標用戶

- **主要客群**：線上遊戲玩家
- **使用場景**：需要臨時網路連接的玩家
- **特點**：可能在不同地點遊戲，需要快速定位免費WiFi

## 3. 核心功能 (MVP)

### 3.1 用戶系統
- **用戶註冊**：支持匿名帳號或基於GUN.js的分散式帳號
- **用戶登錄**：GUN.js驗證認證
- **用戶資料**：用戶名、頭像、貢獻度統計

### 3.2 地圖與位置查詢
- **地圖展示**：使用Leaflet + OpenStreetMap展示WiFi位置
- **位置列表視圖**：支持列表和地圖雙視圖切換
- **搜索功能**：按名稱、距離搜索WiFi點位
- **地理定位**：獲取用戶當前位置（需權限）

### 3.3 WiFi點位信息
每個WiFi點位包含以下信息：
- **基本信息**：名稱、地址、經緯度
- **連接信息**：SSID、是否需要密碼、登入方式
- **質量指標**：網速評分、信號強度、可靠性
- **營業信息**：營業時間、是否24小時開放
- **社群互動**：評論、評分(1-5星)、最後更新時間

### 3.4 新增/編輯功能
- **新增WiFi點位**：登錄用戶可提交新的WiFi位置
- **編輯信息**：用戶可更新已有點位的信息
- **驗證機制**：多次編輯後可獲得「驗證者」標籤

### 3.5 離線支持
- **本地緩存**：自動緩存已查看的WiFi點位到本地存儲
- **離線查看**：無網路時能查看緩存的點位信息
- **同步機制**：恢復網路連接後自動同步

### 3.6 社群功能
- **評論**：用戶可對WiFi點位進行評論
- **評分**：1-5星評分系統
- **點讚**：用戶可點讚有用的評論

## 4. 用戶故事 (User Stories)

### US-001: 查看地圖上的WiFi點位
**作為** 一位需要上網的遊戲玩家  
**我想** 在地圖上看到附近所有免費WiFi的位置  
**以便** 快速找到最近的可用網路

### US-002: 新增WiFi點位
**作為** 對社群有貢獻的玩家  
**我想** 分享我發現的新WiFi點位  
**以便** 幫助其他玩家

### US-003: 評分和評論
**作為** 一位使用過某個WiFi點位的玩家  
**我想** 對該點位進行評分和評論  
**以便** 幫助其他玩家了解品質

### US-004: 離線查看
**作為** 一位可能在無網路時的玩家  
**我想** 離線時仍能查看已緩存的WiFi信息  
**以便** 計劃路線

## 5. 技術架構

### 5.1 技術棧
- **前端框架**：純HTML/CSS/JavaScript（CDN引入）
- **地圖庫**：Leaflet.js + OpenStreetMap
- **數據庫**：GUN.js（分散式P2P數據庫）
- **認證**：GUN.js內置認證系統
- **存儲**：Browser LocalStorage + IndexedDB（離線緩存）

### 5.2 系統架構
- **完全前端應用**：無後端服務依賴
- **P2P網絡**：GUN.js節點可相互同步數據
- **中繼節點**：可選公共GUN relay提升連通性

### 5.3 數據結構 (GUN.js)
```
/locations
  /{locationId}
    ├── name: string
    ├── lat: number
    ├── lng: number
    ├── ssid: string
    ├── hasPassword: boolean
    ├── speed: number (1-5)
    ├── operational: boolean
    ├── hours: string
    ├── comments: {commentId: {...}}
    ├── ratings: {userId: number}
    └── createdBy: userId

/users
  /{userId}
    ├── username: string
    ├── avatar: string
    ├── contributionCount: number
    └── joinedDate: timestamp
```

## 6. 非功能需求

### 6.1 性能
- 地圖加載時間 < 2秒
- 搜索響應時間 < 500ms
- 支持500+個WiFi點位同時展示

### 6.2 安全性
- 用戶數據在GUN.js中加密
- 不儲存敏感信息（如密碼原文）
- 防止垃圾內容和騷擾

### 6.3 可用性
- 支持移動設備響應式設計
- 支持中英文界面
- 無障礙訪問考量 (a11y)

### 6.4 隱私
- 用戶位置信息可選
- 提交WiFi信息時匿名選項
- 明確的隱私政策

## 7. 開發優先級

### Phase 1 (MVP)
- [ ] 用戶認證系統 (GUN.js)
- [ ] 基礎地圖展示
- [ ] WiFi點位查詢
- [ ] 新增/編輯功能
- [ ] 評分評論功能

### Phase 2 (增強)
- [ ] 離線支持
- [ ] 高級搜索和篩選
- [ ] 用戶資料頁面
- [ ] 貢獻者排行榜

### Phase 3 (優化)
- [ ] 性能優化
- [ ] 數據備份機制
- [ ] 社群治理工具

## 8. 定義完成 (Definition of Done)

- 功能代碼通過TDD測試
- 至少80%代碼覆蓋率
- 響應式設計通過測試
- 離線模式正常工作
- 無console錯誤或警告
- 代碼審查通過

---

**最後更新**: 2025-11-19  
**狀態**: 待開發
